[16-02-2025 00:40:48.408 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 00:40:48 +03:00
[16-02-2025 00:40:48.479 Microsoft.Extensions.Hosting.Internal.Host ERR] #: Hosting failed to start
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> ListCustomerId
System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> Contract.ListCustomerId
   at lambda_method1(Closure, Object, ListCustomerId, ResolutionContext)
   at CustomersRoleUpdater.Application.CustomersStatusUpdater.UpdateCustomerRoles(List`1 customers) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomersStatusUpdater.cs:line 18
   at CustomersRoleUpdater.Application.CustomersStatusUpdater.GetAllCustomersAndUpdateRoleAsync() in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomersStatusUpdater.cs:line 36
   at WorkerService.Presentation.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation\Worker.cs:line 19
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[16-02-2025 00:40:48.518 MassTransit WRN] #: Failed to stop bus: rabbitmq://localhost/HP_CustomersRoleUpdaterPresentation_bus_at1yyydz4f8pmftdbdqwhnmjbf?temporary=true ("Not Started")
[16-02-2025 17:14:18.263 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 17:14:18 +03:00
[16-02-2025 17:14:18.431 Microsoft.Hosting.Lifetime INF] #: Application started. Press Ctrl+C to shut down.
[16-02-2025 17:14:18.432 Microsoft.Hosting.Lifetime INF] #: Hosting environment: "Development"
[16-02-2025 17:14:18.434 Microsoft.Hosting.Lifetime INF] #: Content root path: "C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation"
[16-02-2025 17:14:18.500 MassTransit INF] #: Bus started: rabbitmq://localhost/
[16-02-2025 17:15:18.650 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 17:15:18 +03:00
[16-02-2025 17:15:32.738 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 17:15:32 +03:00
[16-02-2025 17:15:32.806 Microsoft.Hosting.Lifetime INF] #: Application started. Press Ctrl+C to shut down.
[16-02-2025 17:15:32.808 Microsoft.Hosting.Lifetime INF] #: Hosting environment: "Development"
[16-02-2025 17:15:32.809 Microsoft.Hosting.Lifetime INF] #: Content root path: "C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation"
[16-02-2025 17:15:32.877 MassTransit INF] #: Bus started: rabbitmq://localhost/
[16-02-2025 17:15:38.977 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 17:15:38 +03:00
[16-02-2025 18:14:52.958 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 18:14:52 +03:00
[16-02-2025 18:14:53.031 Microsoft.Hosting.Lifetime INF] #: Application started. Press Ctrl+C to shut down.
[16-02-2025 18:14:53.032 Microsoft.Hosting.Lifetime INF] #: Hosting environment: "Development"
[16-02-2025 18:14:53.034 Microsoft.Hosting.Lifetime INF] #: Content root path: "C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation"
[16-02-2025 18:14:53.088 MassTransit INF] #: Bus started: rabbitmq://localhost/
[16-02-2025 18:14:54.221 Microsoft.Extensions.Hosting.Internal.Host ERR] #: BackgroundService failed
System.Text.Json.JsonException: '<' is an invalid start of a value. Path: $ | LineNumber: 2 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: '<' is an invalid start of a value. LineNumber: 2 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at CustomersRoleUpdater.Application.Integrations.CommonHttpClient.GetRequest[T](String path) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\Integrations\CommonHttpClient.cs:line 28
   at CustomersRoleUpdater.Application.CustomersDataService.GetCustomersForUpdateByCountTransactionAsync() in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomerDataService.cs:line 33
   at CustomersRoleUpdater.Application.CustomersStatusUpdater.GetAllCustomersAndUpdateRoleAsync() in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomersStatusUpdater.cs:line 31
   at WorkerService.Presentation.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation\Worker.cs:line 20
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[16-02-2025 18:14:54.254 Microsoft.Extensions.Hosting.Internal.Host FTL] #: The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Text.Json.JsonException: '<' is an invalid start of a value. Path: $ | LineNumber: 2 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: '<' is an invalid start of a value. LineNumber: 2 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at CustomersRoleUpdater.Application.Integrations.CommonHttpClient.GetRequest[T](String path) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\Integrations\CommonHttpClient.cs:line 28
   at CustomersRoleUpdater.Application.CustomersDataService.GetCustomersForUpdateByCountTransactionAsync() in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomerDataService.cs:line 33
   at CustomersRoleUpdater.Application.CustomersStatusUpdater.GetAllCustomersAndUpdateRoleAsync() in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Application\CustomersStatusUpdater.cs:line 31
   at WorkerService.Presentation.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation\Worker.cs:line 20
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[16-02-2025 18:14:54.261 Microsoft.Hosting.Lifetime INF] #: Application is shutting down...
[16-02-2025 18:14:54.306 MassTransit INF] #: Bus stopped: rabbitmq://localhost/
[16-02-2025 18:15:24.609 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 18:15:24 +03:00
[16-02-2025 18:15:24.675 Microsoft.Hosting.Lifetime INF] #: Application started. Press Ctrl+C to shut down.
[16-02-2025 18:15:24.677 Microsoft.Hosting.Lifetime INF] #: Hosting environment: "Development"
[16-02-2025 18:15:24.679 Microsoft.Hosting.Lifetime INF] #: Content root path: "C:\cod\CustomersRoleUpdater\CustomersRoleUpdater.Presentation"
[16-02-2025 18:15:24.739 MassTransit INF] #: Bus started: rabbitmq://localhost/
[16-02-2025 18:15:30.839 WorkerService.Presentation.Worker INF] #: Customers RoleUpdater running at: 02/16/2025 18:15:30 +03:00
